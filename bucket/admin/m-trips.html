<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard || Discover Sharm</title>
    
    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <!-- Font Awesome -->
      <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
  
  
  <!-- Date Range Picker -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css">
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    
    
    <!-- Firebase JS -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">

     <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#ffc107',
                            light: '#ffd54f',
                            dark: '#ffa000'
                        },
                        secondary: '#ff9800',
                        accent: '#ff5722',
                        dark: '#333',
                        darker: '#222',
                        darkest: '#111',
                        light: '#f5f5f5',
                        gray: {
                            DEFAULT: '#666',
                            light: '#444',
                            lighter: '#555'
                        },
                        success: '#4caf50',
                        warning: '#ff9800',
                        danger: '#f44336',
                        info: '#2196f3'
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body>
    <!-- SIDEBAR -->
    <section id="sidebar">
        <a href="#" class="brand">
            <div class="logo-container">
                <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjGLYfehf5gTkhli-onh8WqHg2Ve_BEw1GHxqS5E0pUMywRV9LXj0M45PfhXXgiEwCcR3t8EzzoBUAbhLjIlbAmttq5Jf1Quhxke9PBW5GFu1fwSIjtAzPwRhjUTAk_vV1kpZzApx6V-nYEfRpPMeBI7QUDp7yUTk_0pwLbC3lXPnwQzvZPfuDSigaHziw=s1600" alt="Discover Sharm Logo" class="app-logo">
            </div>
            <span  class="text">Discover Sharm</span>
        </a>
        <ul class="side-menu top">
            <li class="active" data-section="dashboard">
                <a href="#">
                    <i class='bx bxs-dashboard'></i>
                    <span class="text">Dashboard</span>
                </a>
            </li>
            <li data-section="trips">
                <a href="#">
                    <i class='bx bxs-store-alt'></i>
                    <span class="text">My Trips</span>
                </a>
            </li>
            <li data-section="analytics">
                <a href="#">
                    <i class='bx bxs-doughnut-chart'></i>
                    <span class="text"> Analytics </span>
                </a>
            </li>
            <li data-section="reservation">
                <a href="#">
                    <i class="bx bxs-file-pdf"></i>
                    <span class="text">Reservations</span>
                </a>
            </li>
            <li data-section="withdraw">
                <a href="#">
                    <i class='bx bx-money'></i>
                    <span class="text">payout</span>
                </a>
            </li>
        </ul>
        <ul class="side-menu">
            <li data-section="settings">
                <a href="#">
                    <img src="" alt="Profile Image" class="profile-photo bx rounded-full" id="profile-photo">
         
                    <span class="text text-center">Settings</span>
                </a>
            </li>
            <li>
                <a href="#" class="logout">
                    <i class='bx bxs-log-out-circle'></i>
                    <span class="text">Logout</span>
                </a>
            </li>
        </ul>
    </section>
    <!-- SIDEBAR -->

    <!-- CONTENT -->
    <section id="content">
        <!-- NAVBAR -->
        <nav>
            <i class='bx bx-menu'></i>
            <form action="#">
                <div class="form-input">
                    <input type="search" placeholder="Search...">
                    <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
                </div>
            </form>
            <input type="checkbox" id="switch-mode" hidden>
            <label for="switch-mode" class="switch-mode"></label>

            
        </nav>
        <!-- NAVBAR -->

        <!-- MAIN CONTENT SECTIONS -->
        <main>
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="content-section active">
                <div class="head-title">
                    <div class="left">
                        <h1>Dashboard</h1>
   
                    </div>
                </div>

                <div class="container">
                    <!-- Filter Bar -->
                    <div class="filter-bar">

                                <button class="filter-btn active whitespace-nowrap" data-period="week">This Week</button>
            <button class="filter-btn whitespace-nowrap" data-period="month">This Month</button>
            <button class="filter-btn whitespace-nowrap" data-period="quarter">This Quarter</button>
            <button class="filter-btn whitespace-nowrap" data-period="year">This Year</button>
            <button class="filter-btn whitespace-nowrap" data-period="all">All Time</button>
            <input type="text" id="dateRangePicker" class="filter-btn whitespace-nowrap" placeholder="Select date range" />
                    
                    
                    </div>
                    
                    <!-- Stats Summary -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalBookings">0</div>
                                <div class="stat-label">Total Bookings</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalGuests">0</div>
                                <div class="stat-label">Total Guests</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalRevenue">EGP 0</div>
                                <div class="stat-label">Total Revenue</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="avgRating">0.0</div>
                                <div class="stat-label">Avg. Rating</div>
                            </div>
                        </div>
                    </div>
                    
        
                </div>
            </section>






            <!-- trips Section -->
            <section id="trips-section" class="content-section">
                <div class="head-title">
                    <div class="left">
                        <h1>My trips</h1>
                        <ul class="breadcrumb">
                            <li>
                 <a href="#">Dashboard</a>
                            </li>
                            <li><i class='bx bx-chevron-right'></i></li>
                            <li>
                                <a class="active" href="#">trips</a>
                            </li>
                        </ul>
                    </div>
                    <a href="#" class="btn-download">
                        <i class='bx bxs-plus-circle'></i>
                        <span class="text">Add trip</span>
                    </a>
                </div>

                <div class="container">
                      <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
      <div class="glass-card p-4 rounded-xl stat-card">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-slate-500">Total Trips</p>
            <h3 class="text-2xl font-bold" id="totalTrips">0</h3>
          </div>
          <div class="p-3 rounded-full bg-amber-100 text-amber-600">
            <i class="fas fa-suitcase-rolling"></i>
          </div>
        </div>
      </div>
      
      <div class="glass-card p-4 rounded-xl stat-card hidden">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-slate-500">Top Rated</p>
            <h3 class="text-2xl font-bold" id="topRated">0</h3>
          </div>
          <div class="p-3 rounded-full bg-green-100 text-green-600">
            <i class="fas fa-star"></i>
          </div>
        </div>
      </div>
      
      <div class="glass-card p-4 rounded-xl stat-card">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-slate-500">Pending</p>
            <h3 class="text-2xl font-bold" id="pendingTrips">0</h3>
          </div>
          <div class="p-3 rounded-full bg-purple-100 text-purple-600">
            <i class="fas fa-clock"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="flex space-x-6 border-b border-slate-200 mb-6 overflow-x-auto pb-1">
      <button id="tripListTab" class="px-1 py-2 font-medium tab-active whitespace-nowrap text-sm sm:text-base">
        <i class="fas fa-list mr-2"></i>Trip List
      </button>
      <button id="tripEditorTab" class="px-1 py-2 font-medium text-slate-500 whitespace-nowrap text-sm sm:text-base">
        <i class="fas fa-edit mr-2"></i>Trip Editor
      </button>
    </div>

    <!-- Trip List Section -->
    <div id="tripListSection">
      <div class="flex justify-between gap-4 items-center mb-4">
        <div class="relative w-full max-w-md">
          <input type="text" id="searchInput" placeholder="Search trips..." class="pl-8 pr-4 py-1.5 text-sm rounded-full border border-slate-200 focus:outline-none focus:ring-2 focus:ring-amber-500 w-full">
          <i class="fas fa-search absolute left-3 top-2.5 text-slate-400 text-sm"></i>
        </div>
        <button id="newTripBtn" class="hidden bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white p-3 rounded-full text-sm font-medium shadow-sm transition-all">
          <i class="fas fa-plus mr-1"></i>
        </button>
      </div>
      
 
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="tripList">
        <!-- Skeleton loading -->
        <div class="trip-card glass-card rounded-xl overflow-hidden animate-pulse">
          <div class="h-40 bg-slate-200"></div>
          <div class="p-4">
            <div class="h-5 bg-slate-200 rounded mb-3 w-3/4"></div>
            <div class="h-4 bg-slate-200 rounded mb-2 w-1/2"></div>
            <div class="h-4 bg-slate-200 rounded mb-4 w-1/3"></div>
            <div class="h-8 bg-slate-200 rounded w-2/3"></div>
          </div>
        </div>
        
        <div class="trip-card glass-card rounded-xl overflow-hidden animate-pulse hidden md:block">
          <div class="h-40 bg-slate-200"></div>
          <div class="p-4">
            <div class="h-5 bg-slate-200 rounded mb-3 w-3/4"></div>
            <div class="h-4 bg-slate-200 rounded mb-2 w-1/2"></div>
            <div class="h-4 bg-slate-200 rounded mb-4 w-1/3"></div>
            <div class="h-8 bg-slate-200 rounded w-2/3"></div>
          </div>
        </div>
        
        <div class="trip-card glass-card rounded-xl overflow-hidden animate-pulse hidden lg:block">
          <div class="h-40 bg-slate-200"></div>
          <div class="p-4">
            <div class="h-5 bg-slate-200 rounded mb-3 w-3/4"></div>
            <div class="h-4 bg-slate-200 rounded mb-2 w-1/2"></div>
            <div class="h-4 bg-slate-200 rounded mb-4 w-1/3"></div>
            <div class="h-8 bg-slate-200 rounded w-2/3"></div>
          </div>
        </div>
      </div>
      
      <!-- Empty state -->
      <div id="emptyState" class="hidden text-center py-12">
        <div class="mx-auto w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-4">
          <i class="fas fa-suitcase text-slate-400 text-3xl"></i>
        </div>
        <h3 class="text-lg font-medium text-slate-700 mb-2">No trips found</h3>
        <p class="text-slate-500 mb-4">Create your first trip to get started</p>
        <button id="emptyStateNewTripBtn" class="bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white px-4 py-2 rounded-full font-medium shadow-sm transition-all hidden">
          <i class="fas fa-plus mr-2"></i> Create New Trip
        </button>
      </div>
    </div>

    <!-- Trip Editor Section -->
    <div id="tripEditorSection" class="hidden">
      <form id="tripForm">
        <input type="hidden" id="tripId">
        <input type="hidden" id="ownerId">
        
        <div class="mb-6">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-slate-800" id="editorTitle">Create New Trip</h2>
            <div class="flex space-x-2">
              <button type="button" id="cancelBtn" class="px-4 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 transition">
                Cancel
              </button>
              <button type="button" id="deleteBtn" class="px-4 py-2 rounded-lg bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-sm transition hidden">
                Delete
              </button>
              <button type="submit" id="saveBtn" class="px-4 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-sm transition flex items-center">
                <span>Save</span>
                <span id="spinner" class="ml-1 hidden">
                  <i class="fas fa-spinner fa-spin"></i>
                </span>
              </button>
            </div>
          </div>
          
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Left Column -->
            <div class="lg:col-span-2 space-y-4">
              <!-- Basic Info Card -->
              <div class="glass-card p-5 rounded-xl">
                <h3 class="font-medium text-slate-700 mb-4 flex items-center">
                  <i class="fas fa-info-circle text-amber-500 mr-2"></i> Basic Information
                </h3>
                
                <div class="space-y-4">
                  <div>
                    <label for="name" class="block text-sm font-medium text-slate-700 mb-1">Trip Name*</label>
                    <input type="text" id="name" required class="w-full p-3 input-field rounded-lg text-sm focus:ring-2 focus:ring-amber-500">
                  </div>
                  
                  <div>
                    <label for="bookingLink" class="block text-sm font-medium text-slate-700 mb-1">Booking Link ID*</label>
                    <div class="flex">
                      <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-slate-200 bg-slate-50 text-slate-500 text-sm">
                        discover-sharm.com
                      </span>
                      <input type="text" id="bookingLink" required class="flex-1 min-w-0 block w-full p-3 rounded-none rounded-r-lg input-field text-sm focus:ring-2 focus:ring-amber-500">
                    </div>
                    <p class="text-xs text-slate-500 mt-1">URL-friendly ID (e.g., "ras-mohamed-diving")</p>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label for="price" class="block text-sm font-medium  mb-1">Price (EGP)*</label>
                      <div class="flex">
                        <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-slate-200 bg-slate-50 text-slate-500 text-sm">
                        EGP 
                      </span>
                        
                        <input type="number" id="price" required class="flex-1 min-w-0 block w-full p-3 rounded-none rounded-r-lg input-field text-sm focus:ring-2 focus:ring-amber-500"">
                        
                      </div>
                    </div>
                    <div>
                      <label for="duration" class="block text-sm font-medium text-slate-700 mb-1">Duration*</label>
                      <input type="text" id="duration" required class="w-full p-3 input-field rounded-lg text-sm focus:ring-2 focus:ring-amber-500" placeholder="4 hours">
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label for="category" class="block text-sm font-medium text-slate-700 mb-1">Category*</label>
                      <select id="category" required class="w-full p-3 input-field rounded-lg text-sm focus:ring-2 focus:ring-amber-500">
                        <option value="">Select Category</option>
                        <option value="Adventure">Adventure</option>
                        <option value="Cultural">Cultural</option>
                        <option value="Nature">Nature</option>
                      </select>
                    </div>
                    <div>
                      <label for="rating" class="block text-sm font-medium text-slate-700 mb-1">Rating*</label>
                      <select id="rating" required class="w-full p-3 input-field rounded-lg text-sm focus:ring-2 focus:ring-amber-500">
                        <option value="">Select Rating</option>
                        <option value="1">★☆☆☆☆ (1)</option>
                        <option value="2">★★☆☆☆ (2)</option>
                        <option value="3">★★★☆☆ (3)</option>
                        <option value="4">★★★★☆ (4)</option>
                        <option value="5">★★★★★ (5)</option>
                      </select>
                    </div>
                  </div>
                  
                  <div>
                    <label for="description" class="block text-sm font-medium text-slate-700 mb-1">Description*</label>
                    <textarea id="description" rows="4" required class="w-full p-3 input-field rounded-lg text-sm focus:ring-2 focus:ring-amber-500"></textarea>
                  </div>
                </div>
              </div>
              
              <!-- Media Card -->
              <div class="glass-card p-5 rounded-xl">
                <div class="flex justify-between items-center mb-4">
                  <h3 class="font-medium text-slate-700 flex items-center">
                    <i class="fas fa-images text-amber-500 mr-2"></i> Media
                  </h3>
                  <div class="flex space-x-2" id="mediaButtons">
                    <button type="button" id="addImageBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                      <i class="fas fa-image mr-1"></i> Add Image
                    </button>
                    <button type="button" id="addVideoBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                      <i class="fas fa-video mr-1"></i> Add Video
                    </button>
                  </div>
                </div>
                
                <div class="space-y-3">
                  <div>
                    <label for="mainImage" class="block text-sm font-medium text-slate-700 mb-1">Main Image URL*</label>
                    <input type="text" id="mainImage" required class="w-full p-3 input-field rounded-lg text-sm focus:ring-2 focus:ring-amber-500">
                  </div>
                  
                  <div id="imageList">
                    <!-- Image URLs will be added here -->
                  </div>
                  <div id="videoList">
                    <!-- Video entries will be added here -->
                  </div>
                </div>
              </div>
              
              <!-- Timeline Card -->
              <div class="glass-card p-5 rounded-xl">
                <div class="flex justify-between items-center mb-4">
                  <h3 class="font-medium text-slate-700 flex items-center">
                    <i class="fas fa-clock text-amber-500 mr-2"></i> Timeline
                  </h3>
                  <button type="button" id="addTimelineBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                    <i class="fas fa-plus mr-1"></i> Add Item
                  </button>
                </div>
                
                <div id="timelineList" class="space-y-3">
                  <!-- Timeline items will be added here -->
                </div>
              </div>
            </div>
            
            <!-- Right Column -->
            <div class="space-y-4">
              <!-- Included/Not Included Card -->
              <div class="glass-card p-5 rounded-xl">
                <div class="grid grid-cols-1 gap-4">
                  <div>
                    <div class="flex justify-between items-center mb-3">
                      <h3 class="font-medium text-slate-700 flex items-center">
                        <i class="fas fa-check-circle text-green-500 mr-2"></i> Included
                      </h3>
                      <button type="button" id="addIncludedBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                        <i class="fas fa-plus mr-1"></i> Add Item
                      </button>
                    </div>
                    <div id="includedList" class="space-y-2">
                      <!-- Included items will be added here -->
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between items-center mb-3">
                      <h3 class="font-medium text-slate-700 flex items-center">
                        <i class="fas fa-times-circle text-red-500 mr-2"></i> Not Included
                      </h3>
                      <button type="button" id="addNotIncludedBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                        <i class="fas fa-plus mr-1"></i> Add Item
                      </button>
                    </div>
                    <div id="notIncludedList" class="space-y-2">
                      <!-- Not included items will be added here -->
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- What to Bring Card -->
              <div class="glass-card p-5 rounded-xl">
                <div class="flex justify-between items-center mb-3">
                  <h3 class="font-medium text-slate-700 flex items-center">
                    <i class="fas fa-suitcase text-purple-500 mr-2"></i> What to Bring
                  </h3>
                  <button type="button" id="addWhatToBringBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                    <i class="fas fa-plus mr-1"></i> Add Item
                  </button>
                </div>
                <div id="whatToBringList" class="space-y-2">
                  <!-- What to bring items will be added here -->
                </div>
              </div>
              
              <!-- Extra Services Card -->
              <div class="glass-card p-5 rounded-xl">
                <div class="flex justify-between items-center mb-3">
                  <h3 class="font-medium text-slate-700 flex items-center">
                    <i class="fas fa-concierge-bell text-blue-500 mr-2"></i> Extra Services
                  </h3>
                  <button type="button" id="addTourTypeBtn" class="text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-1.5 rounded-full shadow-sm">
                    <i class="fas fa-plus mr-1"></i> Add Service
                  </button>
                </div>
                <div id="tourTypeList" class="space-y-2">
                  <!-- Tour types will be added here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
                </div>
            </section>










            <!-- Analytics Section -->
            <section id="analytics-section" class="content-section">
                <div class="head-title">
                    <div class="left">
                        <h1>Analytics</h1>
                        <ul class="breadcrumb">
                            <li>
                                <a href="#">Dashboard</a>
                            </li>
                            <li><i class='bx bx-chevron-right'></i></li>
                            <li>
                                <a class="active" href="#">Analytics</a>
                            </li>
                        </ul>
                    </div>
                    <a href="#" class="btn-download">
                        <i class='bx bxs-cloud-download'></i>
                        <span class="text">Export</span>
                    </a>
                </div>

                <div class="container full-width">
                    
                        <div class="card-header">
                            <h2 class="card-title">Sales Analytics</h2>
                            <div class="card-actions">
                                <select class="filter-btn">
                                    <option>Last 7 Days</option>
                                    <option>Last 30 Days</option>
                                    <option>Last 90 Days</option>
                                    <option>This Year</option>
                                </select>
                            </div>
                        </div>
                        
                        
                    
<div>

         <!-- Main Charts Grid -->
                    <div class="charts-grid">
                        <!-- Booking Status Distribution -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Booking Status</h2>
                                <div class="card-actions">
                                    <div class="badge badge-new" id="statusUpdated">Today</div>
                                    <button class="export-btn" data-chart="statusChart" title="Download Chart">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="statusChart"></canvas>
                                </div>
                            </div>
                      </div>
                        
                        <!-- Monthly Booking Trends -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Monthly Trends</h2>
                                <div class="card-actions">
                                    <div class="badge badge-confirmed" id="trendUpdated">2023</div>
                                    <button class="export-btn" data-chart="trendChart" title="Download Chart">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="trendChart"></canvas>
                                </div>
                            </div>
                        </div>
                                                </div>
                        
                        
                   <div class="charts-grid">
                        <!-- Tour Performance -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Tour trend</h2>
                                <div class="card-actions">
                                    <select id="tourPerformanceMetric" class="filter-btn">
                                        <option value="bookings">By Bookings</option>
                                        <option value="revenue">By Revenue</option>
                                    </select>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <div id="tourPerformanceChart" style="width:100%; height:100%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Guest Composition -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Guest Composition</h2>
                                <div class="card-actions">
                                    <div class="badge badge-confirmed" id="guestUpdated">Current</div>
                                    <button class="export-btn" data-chart="guestChart" title="Download Chart">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="half-pie-container">
                                    <canvas id="guestChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
</div>
                    
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>








<!-- Reservations Section -->
<section id="reservation-section" class="content-section">
  <div class="head-title">
    <div class="left">
      <h1>Reservations</h1>
      <ul class="breadcrumb">
        <li><a href="#">Dashboard</a></li>
        <li><i class='bx bx-chevron-right'></i></li>
        <li><a class="active" href="#">Reservations</a></li>
      </ul>
    </div>
  </div>

  <div class="container full-width">
    <div class="card full-width">
      <div class="card-header flex justify-between items-center">
        <h2 class="card-title">Your Bookings</h2>
      </div>
      <div class="card-body overflow-x-auto">
        <table class="min-w-full divide-y divide-slate-200 text-sm">
          <thead class="bg-slate-50">
            <tr>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Booking ID</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Customer</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Trip Date</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Guests</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Total Price</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Status</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Payment</th>
              <th class="px-4 py-3 text-left font-medium text-gray-700">Actions</th>
            </tr>
          </thead>
          <tbody id="reservations-list" class="divide-y divide-slate-100">
            <!-- Example Row (will be replaced dynamically) -->
            <tr class="hover:bg-slate-50 transition-colors">
              <td class="px-4 py-3">#RES-12345</td>
              <td class="px-4 py-3">John Doe</td>
              <td class="px-4 py-3">2025-06-15</td>
              <td class="px-4 py-3">1 Adult<br><span class="text-xs text-gray-500">0 Children</span></td>
              <td class="px-4 py-3">EGP 8.25</td>
              <td class="px-4 py-3">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                  Confirmed
                </span>
              </td>
              <td class="px-4 py-3">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                  Paid
                </span>
              </td>
              <td class="px-4 py-3 space-x-2">
                <button onclick="viewReservation('${bookingId}')" class="text-blue-600 hover:underline">View</button>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Empty State -->
        <div id="emptyReservations" class="hidden text-center py-8">
          <i class="fas fa-calendar-alt text-slate-400 text-4xl mb-4"></i>
          <p class="text-slate-600">You have no active reservations.</p>
        </div>
      </div>
    </div>
  </div>
</section>










<!-- Inside #withdraw-section -->
<section id="withdraw-section" class="content-section">
  <div class="head-title">
    <div class="left">
      <h1>Payout Method</h1>
      <ul class="breadcrumb">
        <li><a href="#">Dashboard</a></li>
        <li><i class='bx bx-chevron-right'></i></li>
        <li><a class="active" href="#">Payout Method</a></li>
      </ul>
    </div>
  </div>

<!-- Inside #withdraw-section -->
<div class="container">
    <div class="card full-width">
        <div class="card-header">
            <h2 class="card-title">Payout Method</h2>
            <div class="card-actions">
                <button id="editPayoutMethod" class="save-btn">Edit Payout Method</button>
            </div>
        </div>
        <div class="card-body">
            <form id="payoutForm">
                <!-- Payout Method Selection -->
                <div class="form-group">
                    <label>Payout Method</label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="bankAccount" name="payoutMethod" value="bank_account" checked>
                            <label for="bankAccount">Bank Account</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="wallet" name="payoutMethod" value="wallet">
                            <label for="wallet">Wallet</label>
                        </div>
                    </div>
                </div>

                <!-- Always Visible Fields -->
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                    <label for="accountNumber">Account Number</label>
                    <input type="text" id="accountNumber" placeholder="Enter your account number" required>
                </div>

                <!-- Conditional Fields (Bank Account Only) -->
                <div id="bankFields" class="conditional-fields">
                    <div class="form-group">
                        <label for="bankName">Bank Name</label>
                        <input type="text" id="bankName" placeholder="Enter bank name (e.g., Banque Misr)">
                    </div>
                    <div class="form-group">
                        <label for="branchName">Branch Name</label>
                        <input type="text" id="branchName" placeholder="Enter branch name (e.g., Sharm El-Sheikh)">
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Events Section -->
    <div class="card full-width mt-6">
        <div class="card-header">
            <h2 class="card-title">Events</h2>
        </div>
        <div class="card-body">
            <div class="event-list">
                <div class="event-item">
                    <span class="event-date"></span>
                    <span class="event-description"></span>
                </div>
                <!-- More events can be added dynamically -->
            </div>
        </div>
    </div>
</div>
        </div>
      </div>
    </div>
  </div>
</section>











            <!-- Settings Section -->
            <section id="settings-section" class="content-section">
                <div class="head-title">
                    <div class="left">
                        <h1>Settings</h1>
                        <ul class="breadcrumb">
                            <li>
                                <a href="#">Dashboard</a>
                            </li>
                            <li><i class='bx bx-chevron-right'></i></li>
                            <li>
                                <a class="active" href="#">Settings</a>
                            </li>
                        </ul>
                    </div>
                </div>

    
                <div class="container">
                    <div class="card full-width">
                        <div class="card-header">
                            <h2 class="card-title">Account Settings</h2>
                             <span  id="userRole" class="text"></span>
                        </div>
                        <div class="card-body">
                            <form class="settings-form">
                                <div class="form-group">
                                    <label for="profile-pic">Profile Picture</label>
                                    <div class="profile-pic-upload">
                                        <img src="" class="profile-photo2" alt="Profile" id="profile-pic-preview">
                                      
                                    
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="username">Moderator Name</label>
                                    <input type="text" id="userName" value="">
                                </div>

                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input type="email" id="userEmail" value="">
                                </div>

                              <div class="form-group">
                                    <label for="phone">Phone</label>
                                    <input type="phone" id="userPhone" value="">
                                </div>

                                

                                <div class="form-group">
                                    <label for="notifications">Notifications</label>
                                    <div class="switch-container">
                                        <label class="switch">
                                            <input type="checkbox" id="notifications" checked>
                                            <span class="slider round"></span>
                                        </label>
                                        <span>Enable notifications</span>
                                    </div>
                                </div>

                                

                                <div class="form-actions">
                                    <button type="button" class="cancel-btn">Cancel</button>
                                    <button type="submit" class="save-btn">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- MAIN CONTENT SECTIONS -->

        <!-- Toast Notification -->
        <div id="toast" class="toast"></div>
    </section>
    <!-- CONTENT -->

    <script src="script.js"></script>
     
  <script src="final.js"></script>
  <script type="module">
  // Authentication check with loading state
  
      const isUserLoggedIn = getCookie('username');

      

      if (isUserLoggedIn) {
        document.getElementById('userName').value = isUserLoggedIn;
        document.getElementById('userEmail').value = getCookie('email');
        document.getElementById('userPhone').value = getCookie('phone');
        const backgroundImageUrl = getCookie('photo');
        
        // Set default profile photo if none exists
        const profilePhoto = document.querySelector('.profile-photo');
        profilePhoto.src = backgroundImageUrl || 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
        profilePhoto.onerror = function() {
          this.src = 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
        };


const profilePhoto2 = document.querySelector('.profile-photo2');
        profilePhoto2.src = backgroundImageUrl || 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
        profilePhoto2.onerror = function() {
          this.src = 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png';
        };
        

      } else {
        
      } 
    </script>
</body>
</html>
